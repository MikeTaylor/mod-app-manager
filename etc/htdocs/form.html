<html>
  <head>
    <title>Simple forms for mod-app-manager sources CRUD</title>
    <script>
      function submitPost() {
	var record = document.getElementById('postRecord').value;
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/app-manager/config/sources', true);
        xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        xhr.send(record);
      }

      function submitPut() {
	var id = document.getElementById('putId').value;
	var record = document.getElementById('putRecord').value;
        var xhr = new XMLHttpRequest();
        xhr.open('PUT', '/app-manager/config/sources/' + id, true);
        xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        console.log('submitting PUT');
        xhr.send(record);
      }

      function submitDelete() {
	var id = document.getElementById('deleteId').value;
        var xhr = new XMLHttpRequest();
        xhr.open('DELETE', '/app-manager/config/sources/' + id, true);
        xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        console.log('submitting DELETE');
        xhr.send();
      }
    </script>
  </head>
  <body>
    <h1>Simple forms for mod-app-manager sources CRUD</h1>

    <h2>List sources</h2>
    <a href="/app-manager/config/sources">List</a>

    <h2>Add new source</h2>
    <form>
      Record:
      <textarea id="postRecord" rows="8" cols="60">
{
  "owner": "MikeTaylor",
  "repo": "example-folio-app-source",
  "tokenStart": "ghp_Uui5H0AaUAgsTDfz",
  "tokenEnd": "DOps8IaOEua9K34OOS3x"
}
      </textarea>
      <br />
      <button type="button" onclick="submitPost()">Add</button>
    </form>

    <h2>Update source</h2>
    <form>
      ID:
      <input id="putId" value="123" size="60"/>
      <br />
      Record:
      <textarea id="putRecord" rows="8" cols="60">
{
  "owner": "MikeTaylor",
  "repo": "another-folio-app-source",
  "tokenStart": "ghp_sDQ50nUFmPeiPdRjVHfCg7uxWbgioQ0SzBZ",
  "tokenEnd": "Q"
}
      </textarea>
      <br />
      <button type="button" onclick="submitPut()">Update</button>
    </form>

    <h2>Delete source</h2>
    <form>
      ID:
      <input id="deleteId" value="123" size="60" />
      <br />
      <button type="button" onclick="submitDelete()">Delete</button>
    </form>
  </body>
</html>

